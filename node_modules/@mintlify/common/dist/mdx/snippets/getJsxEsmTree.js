import { Parser } from 'acorn';
import jsx from 'acorn-jsx';
const JSXParser = Parser.extend(jsx());
/**
 * Get the AST for a JSX snippet
 * @param jsxContent the content of the JSX snippet
 * @returns the AST for the JSX snippet
 */
export const getJsxEsmTree = (jsxContent) => {
    const trimmedContent = jsxContent.trim();
    const estree = JSXParser.parse(trimmedContent, {
        ecmaVersion: 'latest',
        sourceType: 'module',
        allowReturnOutsideFunction: true,
    });
    const finalContent = trimmedContent;
    const mdxJsEsmNode = {
        type: 'mdxjsEsm',
        value: finalContent,
        data: {
            estree,
        },
    };
    return {
        type: 'root',
        children: [mdxJsEsmNode],
    };
};
