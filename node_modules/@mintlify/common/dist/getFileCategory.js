import { parse } from 'path';
import { SNIPPET_EXTENSIONS } from './mdx/snippets/constants.js';
const excludedMdFiles = ['readme', 'license', 'contributing', 'contribute'];
export const generatedStaticFiles = [
    'llms.txt',
    'robots.txt',
    'sitemap.xml',
    'llms-full.txt',
];
const supportedStaticFileExtensions = [
    '.jpeg',
    '.jpg',
    '.jfif',
    '.pjpeg',
    '.pjp',
    '.png',
    '.svg',
    '.svgz',
    '.ico',
    '.webp',
    '.gif',
    '.apng',
    '.avif',
    '.bmp',
    '.mp4',
    '.webm',
    '.ogg',
    '.avi',
    '.mp3',
    '.wav',
    '.flac',
    '.csv',
];
export const getFileCategory = (filePath) => {
    filePath = filePath.toLowerCase();
    const parsed = parse(filePath);
    if (parsed.base === 'mint.json') {
        return 'mintConfig';
    }
    if (parsed.base === 'docs.json') {
        return 'docsConfig';
    }
    const fileName = parsed.name;
    const extension = parsed.ext;
    if (generatedStaticFiles.includes(parsed.base)) {
        return 'generatedStaticFile';
    }
    if ((filePath.startsWith('_snippets/') || filePath.startsWith('snippets/')) &&
        (SNIPPET_EXTENSIONS.some((ext) => extension === ext) || extension === '.md')) {
        if (filePath.startsWith('_snippets/')) {
            return 'snippet';
        }
        else if (filePath.startsWith('snippets/')) {
            return 'snippet-v2';
        }
    }
    else if (extension === '.mdx') {
        return 'page';
    }
    else if (extension === '.md') {
        // Exclude common markdown files people don't want on their docs website
        if (excludedMdFiles.includes(fileName)) {
            return null;
        }
        return 'page';
    }
    else if (extension === '.yaml' || extension === '.yml') {
        return 'potentialYamlOpenApiSpec';
    }
    else if (extension === '.json') {
        return 'potentialJsonOpenApiSpec';
    }
    else if (extension === '.css') {
        return 'css';
    }
    else if (extension === '.js') {
        return 'js';
    }
    else if (supportedStaticFileExtensions.includes(extension)) {
        return 'staticFile';
    }
    return null;
};
